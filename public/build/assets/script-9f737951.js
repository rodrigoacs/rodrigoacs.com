const d=document.getElementById("change-language"),h=document.querySelector("main"),i={"en-US":{icon:"https://img.icons8.com/fluency/48/brazil-circular.png",jsonFile:"./en-US.json"},"pt-BR":{icon:"https://img.icons8.com/fluency/48/usa-circular.png",jsonFile:"./pt-BR.json"}};u("home");let o=navigator.language||navigator.userLanguage,r=document.querySelectorAll("a:not(#change-language");r.forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();const n=this.getAttribute("href");u(n)})});window.onload=function(){c(o),l(o)};function l(e){d.innerHTML=`<img width="24" height="24" src="${i[e].icon}" alt="${e}-circular"/>`}function u(e){fetch(`${e}.html`).then(t=>t.text()).then(t=>{h.innerHTML=t,document.title=`${e} | rodrigoacs.com`,m(e)}).catch(t=>console.error("Error:",t))}function m(e){r.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===e&&t.classList.add("active")})}function c(e){let t=document.querySelectorAll("[translate]");fetch(i[e].jsonFile).then(n=>n.json()).then(n=>{t.forEach(a=>{let g=a.getAttribute("translate");a.innerHTML=n[g]})}).catch(n=>console.error(n))}let f=document.getElementById("change-language");f.addEventListener("click",()=>{o=o==="en-US"?"pt-BR":"en-US",l(o),c(o),s()});function s(){document.querySelector(".cv-page")&&setTimeout(()=>{document.getElementById("download").addEventListener("click",()=>{window.print()})},500)}new MutationObserver(()=>{c(o),s()}).observe(document.body.querySelector(".ajax"),{attributes:!0,childList:!0,subtree:!1});
