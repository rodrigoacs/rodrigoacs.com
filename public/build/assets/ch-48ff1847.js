const f=document.getElementById("previousDate"),h=document.getElementById("nextDate"),p=document.getElementById("currentDate"),D=document.getElementById("add");document.getElementById("calculate");const s=document.getElementById("result");let r=new Date,u=0;p.innerText=v(r);f.addEventListener("click",()=>g(-1));h.addEventListener("click",()=>g(1));D.addEventListener("click",x);setInterval(E,500);function g(t){r.setDate(r.getDate()+t),p.innerText=v(r)}function v(t){return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}function y(t,e){const n=new Date;return t=m(n,t),e=m(n,e),(e-t)/6e4}function m(t,e){const[n,a]=e.split(":");return new Date(t.getFullYear(),t.getMonth(),t.getDate(),n,a).getTime()}function E(){const t=document.querySelectorAll(".interval");let e=0;for(const c of t){const d=c.children[0].children[0].value,l=c.children[0].children[1].value;if(d&&l){const T=y(d,l);e+=T}}if(e===u)return;u=e;const n=I(e);if(e===0)return s.innerText="Nenhuma atividade adicionada";const a=n[0].toString().padStart(2,"0"),i=n[1].toString().padStart(2,"0");s.innerText=`${a}:${i}`}function I(t){const e=parseInt(t/60),n=t-e*60;return[e,n]}function x(){const t=document.createElement("div"),e=document.createElement("div");t.classList.add("interval");const n=o("time"),a=o("time"),i=o("text"),c=o("text",!0);e.appendChild(n),e.appendChild(a),e.appendChild(c),t.appendChild(e),t.appendChild(i),document.body.appendChild(t)}function o(t,e=!1){const n=document.createElement("input");return n.type=t,e&&(n.readOnly=!0),n}
